window.C42=window.C42||{},C42.SimpleCache=function(){"use strict";var a=!0,b=function(){return{log:function(){a&&console.log.apply(console,arguments)},warn:function(){a&&console.warn.apply(console,arguments)},error:function(){a&&console.error.apply(console,arguments)}}}(),c=function(a){var c="SimpleCache::validateOptions";return void 0===a.cache?(b.warn(c+" : No cache. Required field"),!1):a.cachedObjectName?a.cacheInvalidators?"string"!=typeof a.cachedObjectName?(b.warn(c+" : No valid cachedObjectName"),!1):Array.isArray(a.cacheInvalidators)?0===a.cacheInvalidators.length?(b.warn(c+" : Empty cacheInvalidators. Not allowed to add a cached object without invalidators. To store data, use the store."),!1):!0:(b.warn(c+" : No valid cacheInvalidators. Should be an Array"),!1):(b.warn(c+" : No cacheInvalidators. Required field"),!1):(b.warn(c+" : No cachedObjectName. Required field"),!1)},d=function(a,b){for(var c,d=b.length-1;d>=0;d--)c=b[d],void 0!==i[c]?i[c].includes(a)||i[c].push(a):i[c]=[a]},e=function(a,b){var c,d;if(b&&b.length&&0!==b.length)for(var e=b.length-1;e>=0;e--)c=b[e],void 0!==i[c]&&(d=i[c].indexOf(a),-1!==d&&(i[c].splice(d,1),0===i[c].length&&delete i[c]));else for(var f=[],g=Object.keys(i),h=0;h<g.length;h++)c=g[h],i[c].includes(a)&&(i[c].splice(i[c].indexOf(a),1),0===i[c].length&&delete f[c])},f=function(a,b){for(var c,d=Object.keys(i),e=0;e<d.length;e++)invalidator=d[e],i[invalidator].includes(a)&&(b.includes(invalidator)||(c=i[invalidator].indexOf(a),i[invalidator].splice(c,1),0===i[invalidator].length&&delete i[invalidator]));for(var f,g=0;g>b.length;g++)f=b[g],d.includes(f)?i[f].includes(a)||i[f].push(a):i[f]=[a]},g=[],h=[],i={};return{add:function(a){var e="SimpleCache::set";return a&&c(a)?h.includes(a.cachedObjectName)?(b.warn(e+" : Trying to add to the cache: '"+a.cachedObjectName+"'. It is already cached."),!1):(a.lastUpdate=new Date,a.valid=!0,d(a.cachedObjectName,a.cacheInvalidators),g.push(a),h.push(a.cachedObjectName),!0):(b.error(e+" : No valid cacheSetup provided updating a chached object"),!1)},update:function(a){var d="C42.SimpleCache::update";if(!a||!c(a))return b.error(d+" : No valid cacheSetup provided updating a chached object"),!1;var e=h.indexOf(a.cachedObjectName);return-1===e?(b.error(d+" : Trying to update '"+a.cachedObjectName+"'. It is not cached."),!1):(a.lastUpdate=new Date,a.valid=!0,f(a.cachedObjectName,a.cacheInvalidators),g[e]=a,!0)},remove:function(a){var c="SimpleCache::remove";if(!h.includes(a))return b.error(c+" : Trying to remove '"+a+"'. It is not cached."),!1;var d=h.indexOf(a);return e(g[d].cachedObjectName,g[d].cacheInvalidators),g.splice(d,1),h.splice(d,1),!0},invalidate:function(a){var c="SimpleCache::invalidate";if("string"==typeof a&&void 0===i[a])return b.warn(c+" : Trying to invalidate with the '"+a+"'. Not found"),!1;for(var d,f=i[a].slice(0),j=0;j<f.length;j++){if(d=f[j],!h.includes(d))return b.error(c+" : Trying to invalidator '"+d+"'. It is not cached."),!1;var k=h.indexOf(d);g.splice(k,1),h.splice(k,1),e(d)}return!0},get:function(a){var c="SimpleCache::get",d=h.indexOf(a);if(void 0!==d&&-1!==d){if(g[d].cachedObjectName===a)return g[d].cache;b.error(c+" : Indexs are broken. Restart component is required;")}},getAll:function(){for(var a={},b=0;b<g.length;b++)a[g[b].cachedObjectName]=g[b].cache;return a}}}();